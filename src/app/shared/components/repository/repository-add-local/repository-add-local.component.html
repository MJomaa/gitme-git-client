<form [formGroup]="formRegisterRepository" class="main-form">
    <div class="title-section">
        <h2 class="text-white">
            Adding existing local repository
        </h2>
    </div>

    <div *ngIf="infoDialogs.type !== null"
         [class.bg-danger]="infoDialogs.type == 'ERROR'"
         [class.bg-info]="infoDialogs.type == 'INFO'"
         [class.bg-warning]="infoDialogs.type == 'WARNING'"
         class="info-dialog card">
        <div [class.text-black]="infoDialogs.type == 'WARNING'"
             [class.text-white]="infoDialogs.type == 'ERROR' || infoDialogs.type == 'INFO'"
             class="card-body">
            {{infoDialogs.message}}
        </div>
    </div>

    <div class="repository-information form-group">
        <h5>Local Repository</h5>
        <label for="directory">Repository directory</label>
        <div class="wrap--ng">
            <input class="form-control form-control-dark"
                   formControlName="repo_dir_display"
                   id="directory">

            <div (click)="chooseDirectory()"
                 class="icon-folder--container">
                <i class="fas fa-folder"></i>
            </div>
        </div>
        <small class="text-muted">
            Repository will be added to manage list as "abc"
        </small>
    </div>

    <div class="repository-credentials form-group">
        <h5>Repository credentials</h5>
        <div class="row mb-3">
            <div class="col">
                <button (click)="isExistingAccount = true"
                        [class.bg-dark]="!isExistingAccount"
                        [class.bg-success]="isExistingAccount"
                        block="true"
                        class="text-white"
                        mdbBtn size="sm">
                    Saved Account
                </button>
            </div>
            <div class="col">
                <button (click)="isExistingAccount = false"
                        [class.bg-dark]="isExistingAccount"
                        [class.bg-success]="!isExistingAccount"
                        block="true"
                        class="text-white"
                        mdbBtn size="sm">
                    New Account
                </button>
            </div>
        </div>
        <ng-container *ngIf="isExistingAccount">
            <gitme-credential-list (accountSelectedChange)="listenAccount($event)">
            </gitme-credential-list>
        </ng-container>

        <ng-container *ngIf="!isExistingAccount">
            <gitme-credential-input (accountNewChange)="listenAccount($event)">
            </gitme-credential-input>
        </ng-container>
    </div>
    <div class="confirmation-action d-flex flex-end--ng">
        <button (click)="cancelAdding()" class="mr-3" color="dark" mdbBtn size="sm">
            Cancel
        </button>
        <button (click)="submitNewRepository()" color="success" mdbBtn size="sm">
            Confirm
        </button>
    </div>
</form>
<div (click)="cancelAdding()"
     class="backdrop background-opacity-black"></div>
